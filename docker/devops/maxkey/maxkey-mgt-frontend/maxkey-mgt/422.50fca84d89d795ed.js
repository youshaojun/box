"use strict";(self.webpackChunkng_alain=self.webpackChunkng_alain||[]).push([[422],{3422:(be,N,a)=>{a.r(N),a.d(N,{PermissionsModule:()=>ye});var g=a(9808),T=a(4521),S=a(552),C=a(647),z=a(5617),J=a(5650),x=a(7910),O=a(2469),L=a(5889),I=a(548),e=a(5e3),_=a(7957),Q=a(822),D=a(520);let $=(()=>{class s extends Q.b{constructor(t){super(t,"/permissions/privileges"),this._httpClient=t,this.server.urls.load="/get"}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(D.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),y=(()=>{class s extends Q.b{constructor(t){super(t,"/permissions/resources"),this._httpClient=t}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(D.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var j=a(8432),l=a(2382),Z=a(9727),E=a(7946),U=a(7484),p=a(4546),h=a(1894),f=a(1047),q=a(2683),b=a(6042),M=a(2643),d=a(592),R=a(3237);a(7758);const G=["nzTreeComponent"];function V(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(o){return e.CHM(t),e.oxw().onSelect(o)}),e._uU(1),e.ALo(2,"i18n"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"mxk.text.select")))}function K(s,i){1&s&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"i18n"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"mxk.roles.category.dynamic"),""))}function W(s,i){1&s&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"i18n"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"mxk.roles.category.static"),""))}function ee(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td",26),e.NdJ("nzCheckedChange",function(o){const c=e.CHM(t).$implicit;return e.oxw().onTableItemChecked(c.id,o)}),e.qZA(),e.TgZ(2,"td",27)(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"td",28),e._uU(6),e.qZA(),e.YNc(7,K,3,3,"td",29),e.YNc(8,W,3,3,"td",29),e.qZA()}if(2&s){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("nzChecked",n.query.tableCheckedId.has(t.id))("nzDisabled",t.disabled),e.xp6(3),e.Oqu(t.id),e.xp6(2),e.Oqu(t.roleName),e.xp6(1),e.Q6J("ngIf","dynamic"==t.category),e.xp6(1),e.Q6J("ngIf","static"==t.category)}}function ne(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"span")(1,"i",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().openFolder(o)}),e.qZA(),e.TgZ(2,"span",33),e._uU(3),e.qZA()()}if(2&s){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("nzType",t.isExpanded?"folder-open":"folder"),e.xp6(2),e.Oqu(t.title)}}function te(s,i){if(1&s&&(e.TgZ(0,"span"),e._UZ(1,"i",34),e.TgZ(2,"span",35),e._uU(3),e.qZA()()),2&s){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.title)}}function oe(s,i){if(1&s&&(e.TgZ(0,"span",30),e.YNc(1,ne,4,2,"span",31),e.YNc(2,te,4,1,"span",31),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!t.isLeaf),e.xp6(1),e.Q6J("ngIf",t.isLeaf)}}const P=function(){return{xs:8,sm:8,md:8,lg:24,xl:48,xxl:48}},F=function(){return{standalone:!0}};let X=(()=>{class s{constructor(t,n,o,r,c,m,A,v,Ze,qe){this.modalService=t,this.rolePrivilegesService=n,this.resourcesService=o,this.rolesService=r,this.viewContainerRef=c,this.fb=m,this.msg=A,this.i18n=v,this.cdr=Ze,this.http=qe,this.query={params:{roleName:"",displayName:"",employeeNumber:"",appId:"",appName:"",startDate:"",endDate:"",startDatePicker:(0,J.Z)(new Date,-30),endDatePicker:new Date,pageSize:10,pageNumber:1,pageSizeOptions:[10,20,50]},results:{records:0,rows:[]},expandForm:!1,submitLoading:!1,tableLoading:!1,tableCheckedId:new Set,indeterminate:!1,checked:!1},this.treeNodes=new L.X(!0)}ngOnInit(){this.fetch()}onQueryParamsChange(t){this.query.params.pageNumber=t.pageIndex,this.query.params.pageSize=t.pageSize,this.fetch()}onSearch(){this.fetch()}onReset(){}onSave(t){t.preventDefault();let n="";this.query.tableCheckedId.forEach(r=>{n=r});let o="";this.nzTreeComponent.getCheckedNodeList().forEach(r=>{o=`${r.key},${o}`,r.getChildren().forEach(c=>{o=`${c.key},${o}`})}),this.nzTreeComponent.getHalfCheckedNodeList().forEach(r=>{o=`${r.key},${o}`}),""!=this.query.params.appId&&""!=n&&""!=o&&this.rolePrivilegesService.update({appId:this.query.params.appId,roleId:n,resourceId:o}).subscribe(r=>{this.query.submitLoading=!1,this.query.tableLoading=!1,0==r.code?this.msg.success(this.i18n.fanyi("mxk.alert.operate.success")):this.msg.error(this.i18n.fanyi("mxk.alert.operate.error")),this.cdr.detectChanges()})}fetch(){this.query.submitLoading=!0,this.query.tableLoading=!0,this.query.indeterminate=!1,this.query.checked=!1,this.query.tableCheckedId.clear(),this.query.expandForm?(this.query.params.endDate=(0,x.Z)(this.query.params.endDatePicker,"yyyy-MM-dd HH:mm:ss"),this.query.params.startDate=(0,x.Z)(this.query.params.startDatePicker,"yyyy-MM-dd HH:mm:ss")):(this.query.params.endDate="",this.query.params.startDate=""),this.rolesService.fetch(this.query.params).subscribe(t=>{this.query.results=t.data,this.query.submitLoading=!1,this.query.tableLoading=!1,this.cdr.detectChanges()})}tree(){this.resourcesService.tree({appId:this.query.params.appId,appName:this.query.params.appName}).subscribe(t=>{this.treeNodes.init(t.data),this.treeNodes.nodes=this.treeNodes.build(),this.cdr.detectChanges()})}onSelect(t){t.preventDefault(),this.modalService.create({nzContent:I.J,nzViewContainerRef:this.viewContainerRef,nzComponentParams:{},nzWidth:700,nzOnOk:()=>new Promise(o=>setTimeout(o,1e3))}).afterClose.subscribe(o=>{o.refresh&&(this.query.params.appName=o.data.appName,this.query.params.appId=o.data.id,this.fetch(),this.tree())})}updateTableCheckedSet(t,n){n?this.query.tableCheckedId.add(t):this.query.tableCheckedId.delete(t)}refreshTableCheckedStatus(){const t=this.query.results.rows.filter(({disabled:n})=>!n);this.query.checked=t.every(({id:n})=>this.query.tableCheckedId.has(n)),this.query.indeterminate=t.some(({id:n})=>this.query.tableCheckedId.has(n))&&!this.query.checked}onTableItemChecked(t,n){this.onTableAllChecked(!1),this.updateTableCheckedSet(t,n),this.refreshTableCheckedStatus(),this.rolePrivilegesService.getByParams({appId:this.query.params.appId,roleId:t}).subscribe(o=>{this.treeNodes.checkedKeys=[];for(let r=0;r<o.data.length;r++)this.treeNodes.checkedKeys.push(o.data[r].resourceId);this.cdr.detectChanges()})}onTableAllChecked(t){this.query.results.rows.filter(({disabled:n})=>!n).forEach(({id:n})=>this.updateTableCheckedSet(n,t)),this.refreshTableCheckedStatus()}openFolder(t){if(t instanceof O.Zr)t.isExpanded=!t.isExpanded;else{const n=t.node;n&&(n.isExpanded=!n.isExpanded)}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.Sf),e.Y36($),e.Y36(y),e.Y36(j.f),e.Y36(e.s_b),e.Y36(l.qu),e.Y36(Z.dD),e.Y36(z.Oi),e.Y36(e.sBO),e.Y36(z.lP))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-privileges"]],viewQuery:function(t,n){if(1&t&&e.Gf(G,5),2&t){let o;e.iGM(o=e.CRH())&&(n.nzTreeComponent=o.first)}},decls:59,vars:60,consts:[[3,"nzBordered"],["nz-form","",1,"search__form",3,"nzLayout","ngSubmit"],["nz-row","",3,"nzGutter"],["nz-col","","nzMd","10","nzSm","24"],["nzFor","roleName"],["nz-input","","name","roleName","placeholder","","id","roleName",3,"ngModel","ngModelOptions","ngModelChange"],["nzFor","name"],["nzSearch","",3,"nzAddOnAfter"],["nz-input","","name","appName","readonly","","placeholder","","id","appName",3,"ngModel","ngModelOptions","ngModelChange"],["suffixButton",""],["nz-col","",3,"nzSpan"],["nz-button","","type","submit",3,"nzType","nzLoading"],["nz-button","","type","reset",1,"mx-sm",2,"display","none",3,"click"],["nz-button","",1,"mx-sm",2,"display","none",3,"click"],["nz-col","",1,"table-list-toolbar",3,"nzSpan"],["nz-button","","type","button",3,"nzType","click"],["nz-col","",1,"grid-border",3,"nzSpan"],["nzTableLayout","auto","nzSize","small","nzBordered","","nzShowSizeChanger","",3,"nzData","nzFrontPagination","nzTotal","nzPageSizeOptions","nzPageSize","nzPageIndex","nzLoading","nzQueryParams"],["dynamicTable",""],["nzAlign","center"],["nzAlign","center",2,"display","none"],[4,"ngFor","ngForOf"],["nzShowLine","false","nzBlockNode","",3,"nzCheckable","nzCheckedKeys","nzData","nzTreeTemplate","nzDblClick"],["nzTreeComponent",""],["nzTreeTemplate",""],["nz-button","","nzType","primary","nzSearch","",3,"click"],[3,"nzChecked","nzDisabled","nzCheckedChange"],["nzAlign","left",2,"display","none"],["nzAlign","left","nzBreakWord","false"],["nzAlign","center",4,"ngIf"],[1,"custom-node"],[4,"ngIf"],["nz-icon","",3,"nzType","click"],[1,"folder-name"],["nz-icon","","nzType","file"],[1,"file-name"]],template:function(t,n){if(1&t&&(e._UZ(0,"page-header"),e.TgZ(1,"nz-card",0)(2,"form",1),e.NdJ("ngSubmit",function(){return n.onSearch()}),e.TgZ(3,"div",2)(4,"div",3)(5,"nz-form-item")(6,"nz-form-label",4),e._uU(7),e.ALo(8,"i18n"),e.qZA(),e.TgZ(9,"nz-form-control")(10,"input",5),e.NdJ("ngModelChange",function(r){return n.query.params.roleName=r}),e.qZA()()()(),e.TgZ(11,"div",3)(12,"nz-form-item")(13,"nz-form-label",6),e._uU(14),e.ALo(15,"i18n"),e.qZA(),e.TgZ(16,"nz-form-control")(17,"nz-input-group",7)(18,"input",8),e.NdJ("ngModelChange",function(r){return n.query.params.appName=r}),e.qZA()(),e.YNc(19,V,3,3,"ng-template",null,9,e.W1O),e.qZA()()(),e.TgZ(21,"div",10)(22,"button",11),e._uU(23),e.ALo(24,"i18n"),e.qZA(),e.TgZ(25,"button",12),e.NdJ("click",function(){return n.onReset()}),e._uU(26),e.ALo(27,"i18n"),e.qZA(),e.TgZ(28,"button",13),e.NdJ("click",function(){return n.query.expandForm=!n.query.expandForm}),e._uU(29),e.ALo(30,"i18n"),e.ALo(31,"i18n"),e.qZA()()()()(),e.TgZ(32,"nz-card")(33,"div",14)(34,"button",15),e.NdJ("click",function(r){return n.onSave(r)}),e._uU(35),e.ALo(36,"i18n"),e.qZA()(),e.TgZ(37,"div",2)(38,"div",16)(39,"nz-table",17,18),e.NdJ("nzQueryParams",function(r){return n.onQueryParamsChange(r)}),e.TgZ(41,"thead")(42,"tr"),e._UZ(43,"th",19),e.TgZ(44,"th",20),e._uU(45,"Id"),e.qZA(),e.TgZ(46,"th",19),e._uU(47),e.ALo(48,"i18n"),e.qZA(),e.TgZ(49,"th",19),e._uU(50),e.ALo(51,"i18n"),e.qZA()()(),e.TgZ(52,"tbody"),e.YNc(53,ee,9,6,"tr",21),e.qZA()()(),e.TgZ(54,"div",16)(55,"nz-tree",22,23),e.NdJ("nzDblClick",function(r){return n.openFolder(r)}),e.qZA(),e.YNc(57,oe,3,2,"ng-template",null,24,e.W1O),e.qZA()()()),2&t){const o=e.MAs(20),r=e.MAs(58);e.xp6(1),e.Q6J("nzBordered",!1),e.xp6(1),e.Q6J("nzLayout","inline"),e.xp6(1),e.Q6J("nzGutter",e.DdM(56,P)),e.xp6(4),e.Oqu(e.lcZ(8,38,"mxk.roles.name")),e.xp6(3),e.Q6J("ngModel",n.query.params.roleName)("ngModelOptions",e.DdM(57,F)),e.xp6(4),e.Oqu(e.lcZ(15,40,"mxk.resources.appName")),e.xp6(3),e.Q6J("nzAddOnAfter",o),e.xp6(1),e.Q6J("ngModel",n.query.params.appName)("ngModelOptions",e.DdM(58,F)),e.xp6(3),e.ekj("text-right",n.query.expandForm),e.Q6J("nzSpan",n.query.expandForm?24:4),e.xp6(1),e.Q6J("nzType","primary")("nzLoading",n.query.submitLoading),e.xp6(1),e.Oqu(e.lcZ(24,42,"mxk.text.query")),e.xp6(3),e.Oqu(e.lcZ(27,44,"mxk.text.reset")),e.xp6(3),e.hij(" ",n.query.expandForm?e.lcZ(30,46,"mxk.text.collapse"):e.lcZ(31,48,"mxk.text.expand"),""),e.xp6(4),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzType","primary"),e.xp6(1),e.Oqu(e.lcZ(36,50,"mxk.text.save")),e.xp6(2),e.Q6J("nzGutter",e.DdM(59,P)),e.xp6(1),e.Q6J("nzSpan",10),e.xp6(1),e.Q6J("nzData",n.query.results.rows)("nzFrontPagination",!1)("nzTotal",n.query.results.records)("nzPageSizeOptions",n.query.params.pageSizeOptions)("nzPageSize",n.query.params.pageSize)("nzPageIndex",n.query.params.pageNumber)("nzLoading",n.query.tableLoading),e.xp6(8),e.Oqu(e.lcZ(48,52,"mxk.roles.name")),e.xp6(3),e.Oqu(e.lcZ(51,54,"mxk.roles.category")),e.xp6(3),e.Q6J("ngForOf",n.query.results.rows),e.xp6(1),e.Q6J("nzSpan",14),e.xp6(1),e.Q6J("nzCheckable",n.treeNodes.checkable)("nzCheckedKeys",n.treeNodes.checkedKeys)("nzData",n.treeNodes.nodes)("nzTreeTemplate",r)}},directives:[E.q,U.bd,l._Y,l.JL,l.F,p.Lr,h.SK,h.t3,p.Nx,p.iK,p.Fd,f.Zp,l.Fj,l.JJ,l.On,q.w,f.gB,b.ix,M.dQ,d.N8,d.Om,d.$Z,d.Uo,d._C,d.UX,d.p0,g.sg,d.h7,d.bF,g.O5,R.Hc,C.Ls],pipes:[z.Ck],styles:[""]}),s})();var re=a(8157);class se extends re.e{constructor(){super(),this.switch_dynamic=!1,this.status=1}init(i){Object.assign(this,i),1==this.status&&(this.switch_status=!0)}trans(){this.status=this.switch_status?1:0}}var ie=a(1457),w=a(8054),ae=a(6462);function le(s,i){if(1&s&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"i18n"),e.ALo(3,"i18n"),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",t.isEdit?e.lcZ(2,1,"mxk.text.edit"):e.lcZ(3,3,"mxk.text.add")," ")}}function de(s,i){1&s&&e._UZ(0,"i",49)}function ce(s,i){1&s&&e._UZ(0,"i",50)}function pe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"button",51),e.NdJ("click",function(o){return e.CHM(t),e.oxw().onClose(o)}),e._uU(2),e.ALo(3,"i18n"),e.qZA(),e.TgZ(4,"button",52),e.NdJ("click",function(o){return e.CHM(t),e.oxw().onSubmit(o)}),e._uU(5),e.ALo(6,"i18n"),e.qZA()()}2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"mxk.text.close")),e.xp6(3),e.Oqu(e.lcZ(6,4,"mxk.text.submit")))}const u=function(){return{standalone:!0}};let k=(()=>{class s{constructor(t,n,o,r,c,m){this.modalRef=t,this.resourcesService=n,this.fb=o,this.msg=r,this.i18n=c,this.cdr=m,this.form={submitting:!1,model:new se},this.formGroup=new l.cw({})}ngOnInit(){var t,n;this.isEdit?this.resourcesService.get(`${this.id}`).subscribe(o=>{this.form.model.init(o.data),this.cdr.detectChanges()}):this.parentNode&&(this.form.model.parentId=null===(t=this.parentNode)||void 0===t?void 0:t.key,this.form.model.parentName=null===(n=this.parentNode)||void 0===n?void 0:n.title)}onClose(t){t.preventDefault(),this.modalRef.destroy({refresh:!1})}onSubmit(t){t.preventDefault(),this.form.submitting=!0,this.form.model.trans(),(this.isEdit?this.resourcesService.update(this.form.model):this.resourcesService.add(this.form.model)).subscribe(n=>{0==n.code?this.msg.success(this.i18n.fanyi(this.isEdit?"mxk.alert.update.success":"mxk.alert.add.success")):this.msg.error(this.i18n.fanyi(this.isEdit?"mxk.alert.update.error":"mxk.alert.add.error")),this.form.submitting=!1,this.modalRef.destroy({refresh:!0}),this.cdr.detectChanges()})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.Lf),e.Y36(y),e.Y36(l.qu),e.Y36(Z.dD),e.Y36(z.Oi),e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-resource-editer"]],inputs:{id:"id",parentNode:"parentNode",isEdit:"isEdit"},decls:96,vars:166,consts:[[4,"nzModalTitle"],["nz-form","","se-container","1",3,"formGroup","ngSubmit"],["nzFor","id",3,"nzMd"],["nzErrorTip","The input is not valid id!",3,"nzMd"],["nz-input","","name","id","id","id",3,"ngModel","disabled","ngModelOptions","ngModelChange"],["nzRequired","","nzFor","resourceName",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid name!",3,"nzSm","nzMd","nzXs","nzXl"],["nz-input","","name","resourceName","id","resourceName",3,"ngModel","ngModelOptions","ngModelChange"],["nzRequired","","nzFor","resourceType",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid resourceType!",3,"nzSm","nzMd","nzXs","nzXl"],["name","resourceType","id","resourceType",3,"ngModel","ngModelOptions","ngModelChange"],["nzValue","MENU",3,"nzLabel"],["nzValue","PAGE",3,"nzLabel"],["nzValue","MODULE",3,"nzLabel"],["nzValue","ELEMENT",3,"nzLabel"],["nzValue","BUTTON",3,"nzLabel"],["nzValue","FILE",3,"nzLabel"],["nzValue","DATA",3,"nzLabel"],["nzValue","OTHER",3,"nzLabel"],["nzRequired","","nzFor","parentId",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid parentId!",3,"nzSm","nzMd","nzXs","nzXl"],["nz-input","","name","parentId","id","parentId",3,"ngModel","ngModelOptions","ngModelChange"],["nzFor","parentName",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid parentName!",3,"nzSm","nzMd","nzXs","nzXl"],["readonly","","nz-input","","name","parentName","id","parentName",3,"ngModel","ngModelOptions","ngModelChange"],["nzFor","resourceUrl",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid resourceUrl!",3,"nzSm","nzMd","nzXs","nzXl"],["nz-input","","name","resourceUrl","id","resourceUrl",3,"ngModel","ngModelOptions","ngModelChange"],["nzFor","permission",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid permission!",3,"nzSm","nzMd","nzXs","nzXl"],["nz-input","","name","permission","id","permission",3,"ngModel","ngModelOptions","ngModelChange"],["nzFor","resourceAction",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid resourceAction!",3,"nzSm","nzMd","nzXs","nzXl"],["nz-input","","name","resourceAction","id","resourceAction",3,"ngModel","ngModelOptions","ngModelChange"],["nzFor","resourceStyle",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid resourceStyle!",3,"nzSm","nzMd","nzXs","nzXl"],["nz-input","","name","resourceStyle","id","resourceStyle",3,"ngModel","ngModelOptions","ngModelChange"],["nzFor","resourceIcon",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid resourceIcon!",3,"nzSm","nzMd","nzXs","nzXl"],["nz-input","","name","resourceIcon","id","resourceIcon",3,"ngModel","ngModelOptions","ngModelChange"],["nzFor","sortIndex",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid sortIndex!",3,"nzSm","nzMd","nzXs","nzXl"],["nz-input","","name","sortIndex","id","sortIndex",3,"ngModel","ngModelOptions","ngModelChange"],["nzFor","status",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid status!",3,"nzSm","nzXs"],["name","status",3,"ngModel","ngModelOptions","nzCheckedChildren","nzUnCheckedChildren","ngModelChange"],["checkedTemplate",""],["unCheckedTemplate",""],[4,"nzModalFooter"],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(t,n){if(1&t&&(e.YNc(0,le,4,5,"div",0),e.TgZ(1,"div")(2,"form",1),e.NdJ("ngSubmit",function(r){return n.onSubmit(r)}),e.TgZ(3,"nz-form-item")(4,"nz-form-label",2),e._uU(5),e.ALo(6,"i18n"),e.qZA(),e.TgZ(7,"nz-form-control",3)(8,"input",4),e.NdJ("ngModelChange",function(r){return n.form.model.id=r}),e.qZA()()(),e.TgZ(9,"nz-form-item")(10,"nz-form-label",5),e._uU(11),e.ALo(12,"i18n"),e.qZA(),e.TgZ(13,"nz-form-control",6)(14,"input",7),e.NdJ("ngModelChange",function(r){return n.form.model.resourceName=r}),e.qZA()()(),e.TgZ(15,"nz-form-item")(16,"nz-form-label",8),e._uU(17),e.ALo(18,"i18n"),e.qZA(),e.TgZ(19,"nz-form-control",9)(20,"nz-select",10),e.NdJ("ngModelChange",function(r){return n.form.model.resourceType=r}),e._UZ(21,"nz-option",11),e.ALo(22,"i18n"),e._UZ(23,"nz-option",12),e.ALo(24,"i18n"),e._UZ(25,"nz-option",13),e.ALo(26,"i18n"),e._UZ(27,"nz-option",14),e.ALo(28,"i18n"),e._UZ(29,"nz-option",15),e.ALo(30,"i18n"),e._UZ(31,"nz-option",16),e.ALo(32,"i18n"),e._UZ(33,"nz-option",17),e.ALo(34,"i18n"),e._UZ(35,"nz-option",18),e.ALo(36,"i18n"),e.qZA()()(),e.TgZ(37,"nz-form-item")(38,"nz-form-label",19),e._uU(39),e.ALo(40,"i18n"),e.qZA(),e.TgZ(41,"nz-form-control",20)(42,"input",21),e.NdJ("ngModelChange",function(r){return n.form.model.parentId=r}),e.qZA()()(),e.TgZ(43,"nz-form-item")(44,"nz-form-label",22),e._uU(45),e.ALo(46,"i18n"),e.qZA(),e.TgZ(47,"nz-form-control",23)(48,"input",24),e.NdJ("ngModelChange",function(r){return n.form.model.parentName=r}),e.qZA()()(),e.TgZ(49,"nz-form-item")(50,"nz-form-label",25),e._uU(51),e.ALo(52,"i18n"),e.qZA(),e.TgZ(53,"nz-form-control",26)(54,"input",27),e.NdJ("ngModelChange",function(r){return n.form.model.resourceUrl=r}),e.qZA()()(),e.TgZ(55,"nz-form-item")(56,"nz-form-label",28),e._uU(57),e.ALo(58,"i18n"),e.qZA(),e.TgZ(59,"nz-form-control",29)(60,"input",30),e.NdJ("ngModelChange",function(r){return n.form.model.permission=r}),e.qZA()()(),e.TgZ(61,"nz-form-item")(62,"nz-form-label",31),e._uU(63),e.ALo(64,"i18n"),e.qZA(),e.TgZ(65,"nz-form-control",32)(66,"input",33),e.NdJ("ngModelChange",function(r){return n.form.model.resourceAction=r}),e.qZA()()(),e.TgZ(67,"nz-form-item")(68,"nz-form-label",34),e._uU(69),e.ALo(70,"i18n"),e.qZA(),e.TgZ(71,"nz-form-control",35)(72,"input",36),e.NdJ("ngModelChange",function(r){return n.form.model.resourceStyle=r}),e.qZA()()(),e.TgZ(73,"nz-form-item")(74,"nz-form-label",37),e._uU(75),e.ALo(76,"i18n"),e.qZA(),e.TgZ(77,"nz-form-control",38)(78,"input",39),e.NdJ("ngModelChange",function(r){return n.form.model.resourceIcon=r}),e.qZA()()(),e.TgZ(79,"nz-form-item")(80,"nz-form-label",40),e._uU(81),e.ALo(82,"i18n"),e.qZA(),e.TgZ(83,"nz-form-control",41)(84,"input",42),e.NdJ("ngModelChange",function(r){return n.form.model.sortIndex=r}),e.qZA()()(),e.TgZ(85,"nz-form-item")(86,"nz-form-label",43),e._uU(87),e.ALo(88,"i18n"),e.qZA(),e.TgZ(89,"nz-form-control",44)(90,"nz-switch",45),e.NdJ("ngModelChange",function(r){return n.form.model.switch_status=r}),e.qZA(),e.YNc(91,de,1,0,"ng-template",null,46,e.W1O),e.YNc(93,ce,1,0,"ng-template",null,47,e.W1O),e.qZA()()()(),e.YNc(95,pe,7,6,"div",48)),2&t){const o=e.MAs(92),r=e.MAs(94);e.xp6(2),e.Q6J("formGroup",n.formGroup),e.xp6(2),e.Q6J("nzMd",6),e.xp6(1),e.Oqu(e.lcZ(6,114,"mxk.resources.id")),e.xp6(2),e.Q6J("nzMd",18),e.xp6(1),e.s9C("disabled",n.isEdit),e.Q6J("ngModel",n.form.model.id)("ngModelOptions",e.DdM(154,u)),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.hij("",e.lcZ(12,116,"mxk.resources.name")," "),e.xp6(2),e.Q6J("nzSm",18)("nzMd",18)("nzXs",36)("nzXl",48),e.xp6(1),e.Q6J("ngModel",n.form.model.resourceName)("ngModelOptions",e.DdM(155,u)),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.hij("",e.lcZ(18,118,"mxk.resources.resourceType")," "),e.xp6(2),e.Q6J("nzSm",18)("nzMd",18)("nzXs",36)("nzXl",48),e.xp6(1),e.Q6J("ngModel",n.form.model.resourceType)("ngModelOptions",e.DdM(156,u)),e.xp6(1),e.s9C("nzLabel",e.lcZ(22,120,"mxk.resources.resourceType.MENU")),e.xp6(2),e.s9C("nzLabel",e.lcZ(24,122,"mxk.resources.resourceType.PAGE")),e.xp6(2),e.s9C("nzLabel",e.lcZ(26,124,"mxk.resources.resourceType.MODULE")),e.xp6(2),e.s9C("nzLabel",e.lcZ(28,126,"mxk.resources.resourceType.ELEMENT")),e.xp6(2),e.s9C("nzLabel",e.lcZ(30,128,"mxk.resources.resourceType.BUTTON")),e.xp6(2),e.s9C("nzLabel",e.lcZ(32,130,"mxk.resources.resourceType.FILE")),e.xp6(2),e.s9C("nzLabel",e.lcZ(34,132,"mxk.resources.resourceType.DATA")),e.xp6(2),e.s9C("nzLabel",e.lcZ(36,134,"mxk.resources.resourceType.OTHER")),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.hij("",e.lcZ(40,136,"mxk.resources.parentId")," "),e.xp6(2),e.Q6J("nzSm",18)("nzMd",18)("nzXs",36)("nzXl",48),e.xp6(1),e.Q6J("ngModel",n.form.model.parentId)("ngModelOptions",e.DdM(157,u)),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.Oqu(e.lcZ(46,138,"mxk.resources.parentName")),e.xp6(2),e.Q6J("nzSm",18)("nzMd",18)("nzXs",36)("nzXl",48),e.xp6(1),e.Q6J("ngModel",n.form.model.parentName)("ngModelOptions",e.DdM(158,u)),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.Oqu(e.lcZ(52,140,"mxk.resources.resourceUrl")),e.xp6(2),e.Q6J("nzSm",18)("nzMd",18)("nzXs",36)("nzXl",48),e.xp6(1),e.Q6J("ngModel",n.form.model.resourceUrl)("ngModelOptions",e.DdM(159,u)),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.Oqu(e.lcZ(58,142,"mxk.resources.permission")),e.xp6(2),e.Q6J("nzSm",18)("nzMd",18)("nzXs",36)("nzXl",48),e.xp6(1),e.Q6J("ngModel",n.form.model.permission)("ngModelOptions",e.DdM(160,u)),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.hij("",e.lcZ(64,144,"mxk.resources.resourceAction")," "),e.xp6(2),e.Q6J("nzSm",18)("nzMd",18)("nzXs",36)("nzXl",48),e.xp6(1),e.Q6J("ngModel",n.form.model.resourceAction)("ngModelOptions",e.DdM(161,u)),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.hij("",e.lcZ(70,146,"mxk.resources.resourceStyle")," "),e.xp6(2),e.Q6J("nzSm",18)("nzMd",18)("nzXs",36)("nzXl",48),e.xp6(1),e.Q6J("ngModel",n.form.model.resourceStyle)("ngModelOptions",e.DdM(162,u)),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.hij("",e.lcZ(76,148,"mxk.resources.resourceIcon")," "),e.xp6(2),e.Q6J("nzSm",18)("nzMd",18)("nzXs",36)("nzXl",48),e.xp6(1),e.Q6J("ngModel",n.form.model.resourceIcon)("ngModelOptions",e.DdM(163,u)),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.Oqu(e.lcZ(82,150,"mxk.text.sortIndex")),e.xp6(2),e.Q6J("nzSm",18)("nzMd",18)("nzXs",36)("nzXl",48),e.xp6(1),e.Q6J("ngModel",n.form.model.sortIndex)("ngModelOptions",e.DdM(164,u)),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(1),e.Oqu(e.lcZ(88,152,"mxk.text.status")),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(1),e.Q6J("ngModel",n.form.model.switch_status)("ngModelOptions",e.DdM(165,u))("nzCheckedChildren",o)("nzUnCheckedChildren",r)}},directives:[_.h1,l._Y,l.JL,p.Lr,ie.nV,l.sg,h.SK,p.Nx,h.t3,p.iK,p.Fd,f.Zp,l.Fj,l.JJ,l.On,w.Vq,w.Ip,ae.i,C.Ls,q.w,_.Uh,b.ix,M.dQ],pipes:[z.Ck],styles:["","nz-form-item[_ngcontent-%COMP%], nz-tabset[_ngcontent-%COMP%]{width:90%}"]}),s})();var ue=a(3677),Y=a(4219);function me(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(o){return e.CHM(t),e.oxw().onSelect(o)}),e._uU(1),e.ALo(2,"i18n"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"mxk.text.select")))}function ze(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"span",33),e.NdJ("contextmenu",function(o){e.CHM(t);const r=e.oxw(2),c=e.MAs(46);return r.contextMenu(o,c)}),e.TgZ(1,"i",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().openFolder(o)}),e.qZA(),e.TgZ(2,"span",35),e._uU(3),e.qZA()()}if(2&s){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("nzType",t.isExpanded?"folder-open":"folder"),e.xp6(2),e.Oqu(t.title)}}function he(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"span",33),e.NdJ("contextmenu",function(o){e.CHM(t);const r=e.oxw(2),c=e.MAs(46);return r.contextMenu(o,c)}),e._UZ(1,"i",36),e.TgZ(2,"span",37),e._uU(3),e.qZA()()}if(2&s){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.title)}}function ge(s,i){if(1&s&&(e.TgZ(0,"span",31),e.YNc(1,ze,4,2,"span",32),e.YNc(2,he,4,1,"span",32),e.qZA()),2&s){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!t.isLeaf),e.xp6(1),e.Q6J("ngIf",t.isLeaf)}}function _e(s,i){1&s&&e._UZ(0,"i",45)}function fe(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td",38),e.NdJ("nzCheckedChange",function(o){const c=e.CHM(t).$implicit;return e.oxw().onTableItemChecked(c.id,o)}),e.qZA(),e.TgZ(2,"td",27),e._uU(3),e.qZA(),e.TgZ(4,"td",39),e._uU(5),e.qZA(),e.TgZ(6,"td",39),e._uU(7),e.qZA(),e.TgZ(8,"td",27),e._uU(9),e.qZA(),e.TgZ(10,"td",27),e.YNc(11,_e,1,0,"i",40),e.qZA(),e.TgZ(12,"td",41)(13,"div",42)(14,"button",43),e.NdJ("click",function(o){const c=e.CHM(t).$implicit;return e.oxw().onEdit(o,c.id)}),e._uU(15),e.ALo(16,"i18n"),e.qZA(),e.TgZ(17,"button",44),e.NdJ("click",function(o){const c=e.CHM(t).$implicit;return e.oxw().onDelete(o,c.id)}),e._uU(18),e.ALo(19,"i18n"),e.qZA()()()()}if(2&s){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("nzChecked",n.query.tableCheckedId.has(t.id))("nzDisabled",t.disabled),e.xp6(2),e.hij(" ",t.appName," "),e.xp6(2),e.hij(" ",t.resourceName,""),e.xp6(2),e.hij(" ",t.resourceType,""),e.xp6(2),e.hij(" ",t.sortIndex,""),e.xp6(2),e.Q6J("ngIf",1==t.status),e.xp6(4),e.Oqu(e.lcZ(16,9,"mxk.text.edit")),e.xp6(3),e.Oqu(e.lcZ(19,11,"mxk.text.delete"))}}const Ce=function(){return{xs:8,sm:8,md:24,lg:24,xl:48,xxl:48}},B=function(){return{standalone:!0}},xe=function(){return{xs:8,sm:8,md:8,lg:24,xl:48,xxl:48}};const Te=[{path:"resources",component:(()=>{class s{constructor(t,n,o,r,c,m,A,v){this.modalervice=t,this.viewContainerRef=n,this.resourcesService=o,this.fb=r,this.msg=c,this.i18n=m,this.route=A,this.cdr=v,this.query={params:{resourceName:"",displayName:"",parentId:"",appName:"",appId:"",startDate:"",endDate:"",startDatePicker:(0,J.Z)(new Date,-30),endDatePicker:new Date,pageSize:10,pageNumber:1,pageSizeOptions:[10,20,50]},results:{records:0,rows:[]},expandForm:!1,submitLoading:!1,tableLoading:!1,tableCheckedId:new Set,indeterminate:!1,checked:!1},this.treeNodes=new L.X(!1)}ngOnInit(){this.route.snapshot.queryParams.appId&&(this.query.params.appId=this.route.snapshot.queryParams.appId,this.query.params.appName=this.route.snapshot.queryParams.appName,this.fetch(),this.tree())}onQueryParamsChange(t){this.query.params.pageNumber=t.pageIndex,this.query.params.pageSize=t.pageSize,""!=this.query.params.appId&&this.fetch()}onSearch(){this.fetch()}onReset(){}onBatchDelete(t){t.preventDefault(),this.resourcesService.delete((0,S.$$)(this.query.tableCheckedId)).subscribe(n=>{0==n.code?(this.msg.success(this.i18n.fanyi("mxk.alert.delete.success")),this.fetch()):this.msg.error(this.i18n.fanyi("mxk.alert.delete.error")),this.cdr.detectChanges()})}onAdd(t){t.preventDefault(),this.modalervice.create({nzContent:k,nzViewContainerRef:this.viewContainerRef,nzComponentParams:{isEdit:!1,parentNode:this.treeNodes.activated,id:""},nzOnOk:()=>new Promise(o=>setTimeout(o,1e3))}).afterClose.subscribe(o=>{o.refresh&&this.fetch()})}onEdit(t,n){t.preventDefault(),this.modalervice.create({nzContent:k,nzViewContainerRef:this.viewContainerRef,nzComponentParams:{isEdit:!0,id:n},nzOnOk:()=>new Promise(r=>setTimeout(r,1e3))}).afterClose.subscribe(r=>{r.refresh&&this.fetch()})}onSelect(t){t.preventDefault(),this.modalervice.create({nzContent:I.J,nzViewContainerRef:this.viewContainerRef,nzComponentParams:{},nzWidth:700,nzOnOk:()=>new Promise(o=>setTimeout(o,1e3))}).afterClose.subscribe(o=>{o.refresh&&(this.query.params.appName=o.data.appName,this.query.params.appId=o.data.id,console.log(o),this.fetch(),this.tree())})}onDelete(t,n){t.preventDefault(),this.resourcesService.delete(n).subscribe(o=>{0==o.code?(this.msg.success(this.i18n.fanyi("mxk.alert.delete.success")),this.fetch()):this.msg.error(this.i18n.fanyi("mxk.alert.delete.error")),this.cdr.detectChanges()})}tree(){this.resourcesService.tree({appId:this.query.params.appId,appName:this.query.params.appName}).subscribe(t=>{this.treeNodes.init(t.data),this.treeNodes.nodes=this.treeNodes.build(),this.cdr.detectChanges()})}fetch(){this.query.submitLoading=!0,this.query.tableLoading=!0,this.query.indeterminate=!1,this.query.checked=!1,this.query.tableCheckedId.clear(),this.query.expandForm?(this.query.params.endDate=(0,x.Z)(this.query.params.endDatePicker,"yyyy-MM-dd HH:mm:ss"),this.query.params.startDate=(0,x.Z)(this.query.params.startDatePicker,"yyyy-MM-dd HH:mm:ss")):(this.query.params.endDate="",this.query.params.startDate=""),this.resourcesService.fetch(this.query.params).subscribe(t=>{this.query.results=t.data,this.query.submitLoading=!1,this.query.tableLoading=!1,this.cdr.detectChanges()})}updateTableCheckedSet(t,n){n?this.query.tableCheckedId.add(t):this.query.tableCheckedId.delete(t)}refreshTableCheckedStatus(){const t=this.query.results.rows.filter(({disabled:n})=>!n);this.query.checked=t.every(({id:n})=>this.query.tableCheckedId.has(n)),this.query.indeterminate=t.some(({id:n})=>this.query.tableCheckedId.has(n))&&!this.query.checked}onTableItemChecked(t,n){this.updateTableCheckedSet(t,n),this.refreshTableCheckedStatus()}onTableAllChecked(t){this.query.results.rows.filter(({disabled:n})=>!n).forEach(({id:n})=>this.updateTableCheckedSet(n,t)),this.refreshTableCheckedStatus()}openFolder(t){if(t instanceof O.Zr)t.isExpanded=!t.isExpanded;else{const n=t.node;n&&(n.isExpanded=!n.isExpanded)}}activeNode(t){this.treeNodes.activated=t.node,this.query.params.parentId=t.node.key,this.fetch()}contextMenu(t,n){}selectDropdown(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.Sf),e.Y36(e.s_b),e.Y36(y),e.Y36(l.qu),e.Y36(Z.dD),e.Y36(z.Oi),e.Y36(T.gz),e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-resources"]],decls:78,vars:76,consts:[[3,"nzBordered"],["nz-form","",1,"search__form",3,"nzLayout","ngSubmit"],["nz-row","",3,"nzGutter"],["nz-col","","nzMd","10","nzSm","24"],["nzFor","name"],["nzSearch","",3,"nzAddOnAfter"],["nz-input","","name","appName","readonly","","placeholder","","id","appName",3,"ngModel","ngModelOptions","ngModelChange"],["suffixButton",""],["nzFor","resourceName"],["nz-input","","name","resourceName","placeholder","","id","resourceName",3,"ngModel","ngModelOptions","ngModelChange"],["nz-col","",3,"nzSpan"],["nz-button","","type","submit",3,"nzType","nzLoading"],["nz-button","","type","reset",1,"mx-sm",2,"display","none",3,"click"],["nz-button","",1,"mx-sm",2,"display","none",3,"click"],["nz-col","",1,"table-list-toolbar",3,"nzSpan"],["nz-button","","type","button",3,"nzType","click"],["nz-button","","type","button","nzDanger","",1,"mx-sm",3,"nzType","click"],["nz-col","","nzMd","6","nzSm","24",1,"grid-border"],["nzShowLine","false","nzBlockNode","",3,"nzCheckable","nzData","nzTreeTemplate","nzClick","nzDblClick"],["nzTreeTemplate",""],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-col","","nzMd","18","nzSm","24",1,"grid-border"],["nzTableLayout","auto","nzSize","small","nzBordered","","nzShowSizeChanger","","nzWidth","100%",3,"nzData","nzFrontPagination","nzTotal","nzPageSizeOptions","nzPageSize","nzPageIndex","nzLoading","nzQueryParams"],["dynamicTable",""],[3,"nzChecked","nzIndeterminate","nzCheckedChange"],["nzAlign","center"],["nzAlign","center",1,"table_cell_action_2"],[4,"ngFor","ngForOf"],["nz-button","","nzType","primary","nzSearch","",3,"click"],[1,"custom-node"],[3,"contextmenu",4,"ngIf"],[3,"contextmenu"],["nz-icon","",3,"nzType","click"],[1,"folder-name"],["nz-icon","","nzType","file"],[1,"file-name"],[3,"nzChecked","nzDisabled","nzCheckedChange"],["nzAlign","left"],["nz-icon","","nzType","check-circle","nzTheme","fill","style","color: green",4,"ngIf"],["nzAlign","center","nzBreakWord","false"],["nz-col",""],["nz-button","","type","button",3,"click"],["nz-button","","type","button","nzDanger","",3,"click"],["nz-icon","","nzType","check-circle","nzTheme","fill",2,"color","green"]],template:function(t,n){if(1&t&&(e._UZ(0,"page-header"),e.TgZ(1,"nz-card",0)(2,"form",1),e.NdJ("ngSubmit",function(){return n.onSearch()}),e.TgZ(3,"div",2)(4,"div",3)(5,"nz-form-item")(6,"nz-form-label",4),e._uU(7),e.ALo(8,"i18n"),e.qZA(),e.TgZ(9,"nz-form-control")(10,"nz-input-group",5)(11,"input",6),e.NdJ("ngModelChange",function(r){return n.query.params.appName=r}),e.qZA()(),e.YNc(12,me,3,3,"ng-template",null,7,e.W1O),e.qZA()()(),e.TgZ(14,"div",3)(15,"nz-form-item")(16,"nz-form-label",8),e._uU(17),e.ALo(18,"i18n"),e.qZA(),e.TgZ(19,"nz-form-control")(20,"input",9),e.NdJ("ngModelChange",function(r){return n.query.params.resourceName=r}),e.qZA()()()(),e.TgZ(21,"div",10)(22,"button",11),e._uU(23),e.ALo(24,"i18n"),e.qZA(),e.TgZ(25,"button",12),e.NdJ("click",function(){return n.onReset()}),e._uU(26),e.ALo(27,"i18n"),e.qZA(),e.TgZ(28,"button",13),e.NdJ("click",function(){return n.query.expandForm=!n.query.expandForm}),e._uU(29),e.ALo(30,"i18n"),e.ALo(31,"i18n"),e.qZA()()()()(),e.TgZ(32,"nz-card",0)(33,"div",2)(34,"div",14)(35,"button",15),e.NdJ("click",function(r){return n.onAdd(r)}),e._uU(36),e.ALo(37,"i18n"),e.qZA(),e.TgZ(38,"button",16),e.NdJ("click",function(r){return n.onBatchDelete(r)}),e._uU(39),e.ALo(40,"i18n"),e.qZA()(),e.TgZ(41,"div",17)(42,"nz-tree",18),e.NdJ("nzClick",function(r){return n.activeNode(r)})("nzDblClick",function(r){return n.openFolder(r)}),e.qZA(),e.YNc(43,ge,3,2,"ng-template",null,19,e.W1O),e.TgZ(45,"nz-dropdown-menu",null,20)(47,"ul",21)(48,"li",22),e.NdJ("click",function(){return n.selectDropdown()}),e._uU(49,"Action 1"),e.qZA(),e.TgZ(50,"li",22),e.NdJ("click",function(){return n.selectDropdown()}),e._uU(51,"Action 2"),e.qZA()()()(),e.TgZ(52,"div",23)(53,"nz-table",24,25),e.NdJ("nzQueryParams",function(r){return n.onQueryParamsChange(r)}),e.TgZ(55,"thead")(56,"tr")(57,"th",26),e.NdJ("nzCheckedChange",function(r){return n.onTableAllChecked(r)}),e.qZA(),e.TgZ(58,"th",27),e._uU(59),e.ALo(60,"i18n"),e.qZA(),e.TgZ(61,"th",27),e._uU(62),e.ALo(63,"i18n"),e.qZA(),e.TgZ(64,"th",27),e._uU(65),e.ALo(66,"i18n"),e.qZA(),e.TgZ(67,"th",27),e._uU(68),e.ALo(69,"i18n"),e.qZA(),e.TgZ(70,"th",27),e._uU(71),e.ALo(72,"i18n"),e.qZA(),e.TgZ(73,"th",28),e._uU(74),e.ALo(75,"i18n"),e.qZA()()(),e.TgZ(76,"tbody"),e.YNc(77,fe,20,13,"tr",29),e.qZA()()()()()),2&t){const o=e.MAs(13),r=e.MAs(44);e.xp6(1),e.Q6J("nzBordered",!1),e.xp6(1),e.Q6J("nzLayout","inline"),e.xp6(1),e.Q6J("nzGutter",e.DdM(72,Ce)),e.xp6(4),e.Oqu(e.lcZ(8,44,"mxk.resources.appName")),e.xp6(3),e.Q6J("nzAddOnAfter",o),e.xp6(1),e.Q6J("ngModel",n.query.params.appName)("ngModelOptions",e.DdM(73,B)),e.xp6(6),e.Oqu(e.lcZ(18,46,"mxk.resources.name")),e.xp6(3),e.Q6J("ngModel",n.query.params.resourceName)("ngModelOptions",e.DdM(74,B)),e.xp6(1),e.ekj("text-right",n.query.expandForm),e.Q6J("nzSpan",n.query.expandForm?24:4),e.xp6(1),e.Q6J("nzType","primary")("nzLoading",n.query.submitLoading),e.xp6(1),e.Oqu(e.lcZ(24,48,"mxk.text.query")),e.xp6(3),e.Oqu(e.lcZ(27,50,"mxk.text.reset")),e.xp6(3),e.hij(" ",n.query.expandForm?e.lcZ(30,52,"mxk.text.collapse"):e.lcZ(31,54,"mxk.text.expand"),""),e.xp6(3),e.Q6J("nzBordered",!1),e.xp6(1),e.Q6J("nzGutter",e.DdM(75,xe)),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzType","primary"),e.xp6(1),e.Oqu(e.lcZ(37,56,"mxk.text.add")),e.xp6(2),e.Q6J("nzType","primary"),e.xp6(1),e.Oqu(e.lcZ(40,58,"mxk.text.delete")),e.xp6(3),e.Q6J("nzCheckable",n.treeNodes.checkable)("nzData",n.treeNodes.nodes)("nzTreeTemplate",r),e.xp6(11),e.Q6J("nzData",n.query.results.rows)("nzFrontPagination",!1)("nzTotal",n.query.results.records)("nzPageSizeOptions",n.query.params.pageSizeOptions)("nzPageSize",n.query.params.pageSize)("nzPageIndex",n.query.params.pageNumber)("nzLoading",n.query.tableLoading),e.xp6(4),e.Q6J("nzChecked",n.query.checked)("nzIndeterminate",n.query.indeterminate),e.xp6(2),e.Oqu(e.lcZ(60,60,"mxk.resources.appName")),e.xp6(3),e.Oqu(e.lcZ(63,62,"mxk.resources.name")),e.xp6(3),e.Oqu(e.lcZ(66,64,"mxk.resources.resourceType")),e.xp6(3),e.Oqu(e.lcZ(69,66,"mxk.text.sortIndex")),e.xp6(3),e.Oqu(e.lcZ(72,68,"mxk.text.status")),e.xp6(3),e.Oqu(e.lcZ(75,70,"mxk.text.action")),e.xp6(3),e.Q6J("ngForOf",n.query.results.rows)}},directives:[E.q,U.bd,l._Y,l.JL,l.F,p.Lr,h.SK,h.t3,p.Nx,p.iK,p.Fd,q.w,f.gB,f.Zp,l.Fj,l.JJ,l.On,b.ix,M.dQ,R.Hc,g.O5,C.Ls,ue.RR,Y.wO,Y.r9,d.N8,d.Om,d.$Z,d.Uo,d._C,d.g6,d.UX,d.p0,g.sg,d.h7,d.bF],pipes:[z.Ck],styles:[""]}),s})()},{path:"privileges",component:X}];let ye=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[C.PV,S.m8,g.ez,T.Bz.forChild(Te)],T.Bz]}),s})()}}]);